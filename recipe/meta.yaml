{% set version = "1.13.0" %}

package:
  name: iris
  version: {{ version }}

source:
  url: https://github.com/SciTools/iris/archive/v{{ version }}.tar.gz
  sha256: fadd2c79a63ef4ebbdcc95895a13eb7fb687c7f614f4cd895a54198859b26e4c
  patches:
    # Issue reported in https://github.com/SciTools/iris/issues/2004.
    # We work around this in build.sh.
    - no_compile_setup.patch  # [osx]

build:
  number: 2

requirements:
  build:
    - python
    - pip
    - biggus >=0.14
    - cartopy >=0.14
    - cf_units <2
    - netcdf4 <1.4
    - numpy
    - pyke
    - scipy
    - six
  run:
    - python
    - numpy
    - biggus >=0.14
    - cartopy >=0.14
    - cf_units <2
    - iris-grib  # [not (win or py3k)]
    - matplotlib
    - mo_pack  # [not win]
    - nc-time-axis
    - netcdf4 <1.4
    - pyke
    - scipy
    - six

test:
  imports:
    - iris
    - iris.fileformats._pyke_rules.compiled_krb

about:
  home: http://www.scitools.org.uk/iris
  license: GPL3
  license_family: GPL3
  license_file: README.md
  summary: 'Analyse and visualise meteorological and oceanographic data sets.'

extra:
  recipe-maintainers:
    - pelson
    - rhattersley
    - ocefpaf
    - bjlittle
